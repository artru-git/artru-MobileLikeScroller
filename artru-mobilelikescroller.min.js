!function(){class t{constructor(t,i="xy"){this.previousTouchX=[0,0,0],this.previousTouchY=[0,0,0],this.previousTouchTime=[0,0,0],this.direction=i,this.scrollAtT0=[0,0],this.inertialTimerInterval=null,this.target=t,this.childrenEventListeners=[],this.childEventObject=null,this.blockChildrenTimeout=null,this.blockedInputs=[],this.touchstartHandler=this.touchstart.bind(this),this.touchmoveHandler=this.touchmove.bind(this),this.touchendHandler=this.touchend.bind(this),this.clickHandler=this.click.bind(this),t.addEventListener("mousedown",this.touchstartHandler)}touchstart(t){0===t.button&&(t.preventDefault(),this.target.style.cursor="grabbing",this.previousTouchX=[t.pageX,t.pageX,t.pageX],this.previousTouchY=[t.pageY,t.pageY,t.pageY],this.previousTouchTime=[Date.now()-2,Date.now()-1,Date.now()],document.addEventListener("mousemove",this.touchmoveHandler),document.addEventListener("mouseup",this.touchendHandler),document.addEventListener("click",this.clickHandler),this.inertialTimerInterval&&(clearInterval(this.inertialTimerInterval),this.inertialTimerInterval=null),this.childEventObject=null,this.blockChildrenTimeout=setTimeout(()=>{this.preventChildClicks()},300))}touchmove(t){this.previousTouchX=[this.previousTouchX[1],this.previousTouchX[2],t.pageX],this.previousTouchY=[this.previousTouchY[1],this.previousTouchY[2],t.pageY],this.previousTouchTime=[this.previousTouchTime[1],this.previousTouchTime[2],Date.now()],"y"!=this.direction&&(this.target.scrollLeft-=this.previousTouchX[2]-this.previousTouchX[1]),"x"!=this.direction&&(this.target.scrollTop-=this.previousTouchY[2]-this.previousTouchY[1]),this.blockChildrenTimeout&&(this.previousTouchX[2]-this.previousTouchX[1])**2+(this.previousTouchY[2]-this.previousTouchY[1])**2>25&&this.preventChildClicks(),this.target.dispatchEvent(new Event("scroll"))}touchend(t){document.removeEventListener("mousemove",this.touchmoveHandler),document.removeEventListener("mouseup",this.touchendHandler),this.target.style.cursor="",this.scrollAtT0=[this.target.scrollLeft,this.target.scrollTop],this.inertialTimerInterval=setInterval(()=>this.inertialmove(),16),this.target.dispatchEvent(new Event("initiateinertial"))}click(t){document.removeEventListener("click",this.clickHandler),null===this.blockChildrenTimeout?(this.childrenEventListeners.forEach(t=>{t[0].removeEventListener("click",t[1],!0)}),this.childrenEventListeners=[],setTimeout(()=>{this.blockedInputs.forEach(t=>t.disabled=!1),this.blockedInputs=[]},0)):(clearTimeout(this.blockChildrenTimeout),this.blockChildrenTimeout=null)}preventChildClicks(){Array.from(this.target.querySelectorAll("*")).forEach(t=>{let i=t=>this.childclick(t);t.addEventListener("click",i,!0),this.childrenEventListeners.push([t,i])}),this.blockedInputs=Array.from(this.target.querySelectorAll("input:not(:disabled)")).map(t=>(t.disabled=!0,t)),clearTimeout(this.blockChildrenTimeout),this.blockChildrenTimeout=null}childclick(t){t.stopPropagation(),this.click(t)}inertialmove(){let t=0,i=0;"y"!=this.direction&&(t=(this.previousTouchX[2]-this.previousTouchX[0])/(this.previousTouchTime[2]-this.previousTouchTime[0])*1e3/this.target.clientWidth),"x"!=this.direction&&(i=(this.previousTouchY[2]-this.previousTouchY[0])/(this.previousTouchTime[2]-this.previousTouchTime[0])*1e3/this.target.clientHeight);let e="xy"==this.direction?Math.sqrt(t*t+i*i):"y"==this.direction?Math.abs(i):Math.abs(t),s=[t/e,i/e];e=Math.min(12,Math.max(-12,1.2*e));let r=(Date.now()-this.previousTouchTime[2])/1e3,l=e-14.278*r+75.24*r*r/e-149.72*r*r*r/e/e;if(0==e||l<=0||isNaN(e))clearInterval(this.inertialTimerInterval),this.inertialTimerInterval=null,this.target.dispatchEvent(new Event("scrollend"));else{let o=this.target.clientWidth*s[0]*(e*r-7.1397*r*r+25.08*r*r*r/e-37.43*r*r*r*r/e/e),h=this.target.clientHeight*s[1]*(e*r-7.1397*r*r+25.08*r*r*r/e-37.43*r*r*r*r/e/e),c=[this.target.scrollWidth-this.target.clientWidth,this.target.scrollHeight-this.target.clientHeight],n=[Math.min(c[0],Math.max(0,this.scrollAtT0[0]-o)),Math.min(c[1],Math.max(0,this.scrollAtT0[1]-h))];(0==n[0]||n[0]==c[0])&&(0==n[1]||n[1]==c[1])&&(clearInterval(this.inertialTimerInterval),this.inertialTimerInterval=null),"y"!=this.direction&&(this.target.scrollLeft=n[0]),"x"!=this.direction&&(this.target.scrollTop=n[1]),this.target.dispatchEvent(new Event("scroll"))}}}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".x-scroll").forEach(i=>new t(i,"x")),document.querySelectorAll(".y-scroll").forEach(i=>new t(i,"y")),document.querySelectorAll(".xy-scroll").forEach(i=>new t(i,"xy"));let i=document.createElement("style");i.innerHTML=`
        .x-scroll, .xy-scroll {
            overflow-x: auto;
        }
        .y-scroll, .xy-scroll {
            overflow-y: auto;
        }
        .x-scroll {
            overflow-y: hidden;
        }
        .y-scroll {
            overflow-x: hidden;
        }
        .x-scroll, .y-scroll, .xy-scroll {
            cursor: grab;
        }
        .x-scroll:not(.with-scrollbar), .y-scroll:not(.with-scrollbar), .xy-scroll:not(.with-scrollbar) {
            scrollbar-width: 0;
        }
        .x-scroll:not(.with-scrollbar)::-webkit-scrollbar, .y-scroll:not(.with-scrollbar)::-webkit-scrollbar, .xy-scroll:not(.with-scrollbar)::-webkit-scrollbar {
            display: none;
        }
    `,document.head.appendChild(i)})}();
